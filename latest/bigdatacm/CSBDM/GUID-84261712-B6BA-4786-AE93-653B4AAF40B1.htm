<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Connecting to a Cluster Node Through Secure Shell (SSH)</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2017-05-03T11:44:48Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Public Cloud Machine Using Oracle Big Data Cloud Machine" />
<meta name="dcterms.identifier" content="E85986-01" />
<meta name="dcterms.isVersionOf" content="CSBDM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/cloud-machine/latest/" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-0F08BDBE-C108-4116-9D9C-8B0A1D30AD91.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-F54DFE52-2940-44D6-93F4-2372FB697647.htm" title="Next" type="text/html" />
<link rel="alternate" href="CSBDM.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="CSBDM.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="CSBDM.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-84261712-B6BA-4786-AE93-653B4AAF40B1"></a> <span id="PAGE" style="display:none;">32/51</span> <!-- End Header -->
<h1 id="CSBDM-GUID-84261712-B6BA-4786-AE93-653B4AAF40B1" class="sect1">Connecting to a Cluster Node Through Secure Shell (SSH)</h1>
<div>
<div class="section">
<p>To gain local access to the tools, utilities and other resources on an <span>Oracle Big Data Cloud Machine</span> cluster node, you use Secure Shell (SSH) client software to establish a secure connection and log in.</p>
<div class="infobox-note" id="GUID-84261712-B6BA-4786-AE93-653B4AAF40B1__GUID-5E825593-C058-4FA0-8294-68F9999424F2">
<p class="notep1">Note:</p>
By default, the port used for accessing the cluster through SSH, port 22, is open. However, you can control access to that port by configuring the network whitelist for SSH. That configuration controls whether network requests from specified IP addresses (or ranges of addresses) will be accepted or denied at that port. See <a href="GUID-4DC086BF-DBB9-43A0-BE0D-1CCBED87BEB4.htm" title="Oracle Big Data Cloud Machine provides a utility that uses Linux iptables and configuration files called whitelists to filter network traffic to services in the cluster. The whitelist configuration specifies whether network requests from specified clients will be accepted or denied for specified services at specified ports. When a connection tries to establish itself, iptables looks for a matching client IP address or range of IP addresses in the whitelist. If it doesn&rsquo;t find one, it uses the default action.">Controlling Network Access to Services</a>.</div>
<p>Several SSH clients are freely available. The following sections show how to use SSH clients on UNIX, UNIX-like and Windows platforms to connect to a node.</p>
<p>The following instructions describe how to connect as the <code class="codeph">opc</code> user and then use the <code class="codeph">sudo</code> command to open a <code class="codeph">root</code> shell. After you do this the first time, you may choose instead to connect using a password by assigning a known password to <code class="codeph">opc</code> or creating another user with a known password. For information about creating users and setting passwords, see <a href="http://www.oracle.com/pls/topic/lookup?ctx=E63064-01&amp;id=BIGUG212" target="_blank">Managing User Accounts</a> in <span class="italic">Oracle Big Data Appliance Software User's Guide</span>.</p>
</div>
<!-- class="section" --></div>
<div class="sect2"><a id="GUID-29C53AFA-66ED-4649-9A3B-2B5480EC5B53"></a>
<h2 id="CSBDM-GUID-29C53AFA-66ED-4649-9A3B-2B5480EC5B53" class="sect2">Connecting to a Node By Using PuTTY on Windows</h2>
<div>
<p>PuTTY is a freely available SSH client program for Windows.</p>
<div class="section">
<p class="subhead2">Before You Begin</p>
<p>Before you use the PuTTY program to connect to a node, you need the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The IP address of the node</p>
<p>The IP address of the node is listed on the Cluster Details page for the cluster containing the node. To display this page, see <a href="GUID-BDDCF046-E234-4673-B9E4-AF316B84ED89.htm">Viewing Details About a Cluster</a>.</p>
</li>
<li>
<p>The SSH private key file that pairs with the public key associated with the cluster</p>
<p>The public key was associated with your cluster when it was created. See <a href="GUID-817CB14B-F5F3-44E7-A77A-518ABA354260.htm" title="You can create a single cluster from the resources allocated in an Oracle Big Data Cloud Machine instance.">Creating a Cluster</a>. If you don&rsquo;t have the private key that&rsquo;s paired with the public key, contact your administrator.</p>
<p>The private key file must of the PuTTY <code>.ppk</code> format. If the private key file was originally created on the Linux platform, you can use the PuTTYgen program to convert it to the <code>.ppk</code> format.</p>
<p>For instructions on creating an SSH key pair, see <a href="GUID-C13B13F7-454E-445A-99B8-CDDA410CA652.htm#GUID-C13B13F7-454E-445A-99B8-CDDA410CA652" title="Several tools exist to generate SSH public/private key pairs. The following sections show how to generate an SSH key pair on UNIX, UNIX-like and Windows platforms.">Generating a Secure Shell (SSH) Public/Private Key Pair</a>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Procedure</p>
</div>
<!-- class="section" -->
<div class="section">To connect to a node using the PuTTY program on Windows:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Download and install PuTTY.</span>
<div>
<p>To download PuTTY, go to <code>http://www.putty.org/</code> and click the <span class="bold">You can download PuTTY here</span> link.</p>
</div>
</li>
<li class="stepexpand"><span>Run the PuTTY program.</span>
<div>
<p>The PuTTY Configuration window is displayed, showing the Session panel.</p>
</div>
</li>
<li class="stepexpand"><span>In <span class="bold">Host Name (or IP address)</span> box, enter the IP address of the node.</span></li>
<li class="stepexpand"><span>Confirm that the <span class="bold">Connection type</span> option is set to <span class="bold">SSH</span>.</span></li>
<li class="stepexpand"><span>In the Category tree, expand <span class="bold">Connection</span> if necessary and then click <span class="bold">Data</span>.</span>
<div>
<p>The Data panel is displayed.</p>
</div>
</li>
<li class="stepexpand"><span>In the <span class="bold">Auto-login username</span> box, enter <span class="bold">opc</span>. As the <code class="codeph">opc</code> user, you can use the <code class="codeph">sudo</code> command to gain root access to the node, as described in the last step, below.</span></li>
<li class="stepexpand"><span>Confirm that the <span class="bold">When username is not specified</span> option is set to <span class="bold">Prompt</span>.</span></li>
<li class="stepexpand"><span>In the Category tree, expand <span class="bold">SSH</span> and then click <span class="bold">Auth</span>.</span>
<div>
<p>The <span class="bold">Auth</span> panel is displayed.</p>
</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Browse</span> button next to the <span class="bold">Private key file for authentication</span> box. Then, in the <span class="bold">Select private key file</span> window, navigate to and open the private key file that matches the public key that is associated with the cluster.</span></li>
<li class="stepexpand"><span>In the <span class="bold">Category</span> tree, click <span class="bold">Session</span>.</span>
<div>
<p>The <span class="bold">Session</span> panel is displayed.</p>
</div>
</li>
<li class="stepexpand"><span>In the <span class="bold">Saved Sessions</span> box, enter a name for this connection configuration. Then, click <span class="bold">Save</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Open</span> to open the connection.</span>
<div>
<p>The PuTTY Configuration window is closed and the PuTTY window is displayed.</p>
<p>If this is the first time you are connecting to the VM, the PuTTY <span class="bold">Security Alert</span> window is displayed, prompting you to confirm the public key. Click <span class="bold">Yes</span> to continue connecting.</p>
</div>
</li>
<li class="stepexpand"><span>To perform operations that require root access to the node&mdash;such as issuing <code class="codeph">bda&mdash;ossadmin</code> commands&mdash;open a root command shell. Enter <code class="codeph">sudo -s</code> at the command prompt:</span>
<div>
<pre dir="ltr">
$ sudo -s
# whoami 
# root
</pre></div>
</li>
</ol>
</div>
</div>
<div class="sect2"><a id="GUID-E6F4421D-3D7F-415B-ABD6-D3CC0C870947"></a>
<h2 id="CSBDM-GUID-E6F4421D-3D7F-415B-ABD6-D3CC0C870947" class="sect2">Connecting to a Node By Using SSH on UNIX</h2>
<div>
<p>UNIX and UNIX-like platforms (including Solaris and Linux) include the <code class="codeph">ssh</code> utility, an SSH client.</p>
<div class="section">
<p class="subhead2">Before You Begin</p>
<p>Before you use the <code class="codeph">ssh</code> utility to connect to a node, you need the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The IP address of the node</p>
<p>The IP address of the node is listed on the Cluster Details page of the cluster containing the node. To display this page, see <a href="GUID-BDDCF046-E234-4673-B9E4-AF316B84ED89.htm">Viewing Details About a Cluster</a>.</p>
</li>
<li>
<p>The SSH private key file that pairs with the public key associated with the cluster</p>
<p>The public key was associated with your cluster when it was created. See <a href="GUID-817CB14B-F5F3-44E7-A77A-518ABA354260.htm" title="You can create a single cluster from the resources allocated in an Oracle Big Data Cloud Machine instance.">Creating a Cluster</a>. If you don&rsquo;t have the private key that&rsquo;s paired with the public key, contact your administrator.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Procedure</p>
</div>
<!-- class="section" -->
<div class="section">To connect to a node using the ssh utility on UNIX and UNIX-like platforms:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In a command shell, set the file permissions of the private key file so that only you have access to it:</span>
<div>
<pre dir="ltr">
$ <span class="bold">chmod 600 <span class="italic">private-key-file</span></span>
</pre>
<p><span class="italic"><span class="bold"><code class="codeph">private-key-file</code></span></span> is the path to the SSH private key file that matches the public key that is associated with the cluster.</p>
</div>
</li>
<li class="stepexpand"><span>Run the ssh utility:</span>
<div>
<pre dir="ltr">
$ <span class="bold">ssh -i <span class="italic">private-key-file</span> opc@<span class="italic">node-ip-address</span></span>
</pre>
<p>where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><span class="bold"><code class="codeph">private-key-file</code></span></span> is the path to the SSH private key file.</p>
</li>
<li>
<p><span class="bold"><code class="codeph">opc</code></span> is the <code class="codeph">opc</code> operating system user. As <code class="codeph">opc</code>, you can use the <code class="codeph">sudo</code> command to gain root access to the node, as described in the next step.</p>
</li>
<li>
<p><span class="italic"><span class="bold"><code class="codeph">node-ip-address</code></span></span> is the IP address of the node in <span class="italic"><code class="codeph">x.x.x.x</code></span> format.</p>
</li>
</ul>
<p>If this is the first time you are connecting to the node, the ssh utility prompts you to confirm the public key. In response to the prompt, enter <span class="bold"><code class="codeph">yes</code></span>.</p>
</div>
</li>
<li class="stepexpand"><span>To perform operations that require root access to the node&mdash;such as issuing <code class="codeph">bda-oss-admin</code> commands&mdash;open a root command shell. Enter <code class="codeph">sudo -s</code> at the command prompt:</span>
<div>
<pre dir="ltr">
$ sudo -s
# whoami 
# root
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment67">
<tr>
<td class="cellalignment74">
<table class="cellalignment72">
<tr>
<td class="cellalignment71"><a href="GUID-0F08BDBE-C108-4116-9D9C-8B0A1D30AD91.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment71"><a href="GUID-F54DFE52-2940-44D6-93F4-2372FB697647.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment76">
<table class="cellalignment70">
<tr>
<td class="cellalignment71"><a href="http://docs.oracle.com/cloud-machine/latest/"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment71"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment71"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment71"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
