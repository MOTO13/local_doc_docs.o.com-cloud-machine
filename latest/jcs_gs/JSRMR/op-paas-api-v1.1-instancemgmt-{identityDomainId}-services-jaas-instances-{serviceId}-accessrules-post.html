<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- saved from url=(0023)https://docs.oracle.com -->
        <title>REST API for Oracle Java Cloud Service - Add an Access Rule</title>
        <link rel="stylesheet" href="/sp_common/rest-template/ohc-rest-template/css/rest.css">
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script data-main="/sp_common/rest-template/ohc-rest-template/js/rest-config" src="/sp_common/rest-template/requirejs/require.js"></script>
        <script>
            if(window.require === undefined) {
                document.write('<script data-main="sp_common/rest-template/ohc-rest-template/js/rest-config" src="sp_common/rest-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/rest-template/ohc-rest-template/css/rest.css" rel="stylesheet">');
            }
        </script>
        <meta name="description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta property="og:site_name" content="Oracle Help Center">
        <meta property="og:title" content="REST API for Oracle Java Cloud Service">
        <meta property="og:description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta name="generator" content="Oracle REST API Publisher">
        <link rel="shortcut icon" href="/sp_common/rest-template/ohc-common/img/favicon.ico">
        <meta name="application-name" content="REST API for Oracle Java Cloud Service">
        <link type="application/swagger+json" title="Swagger 2.0" href="swagger.json" rel="alternate">
        <link rel="prev" href="api-Access%20Rules.html" title="Previous" type="text/html">
        <link rel="next" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-accessrules-%7BruleName%7D-put.html" title="Next" type="text/html">
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
    <body>
        <div class="noscript alert alert-danger text-center" role="alert">
            <a class="pull-left" href="api-Access%20Rules.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
            <a class="pull-right" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-accessrules-%7BruleName%7D-put.html">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
            <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        </div>
        <article>

            
            <header>

                <ol class="breadcrumb">
                    <li><a href="index.html">REST API for Oracle Java Cloud Service</a></li>
                    <li>Tasks</li>
                    
                    <li class="active">
                        
                        <a href="api-Access%20Rules.html">Access Rules</a>
                        
                    </li>
                    
                </ol>
                
                <p class="draftsubtitle"></p>
                
                <h2>Add an Access Rule</h2>
                <div>
                    <div class="label label-post text-uppercase">post</div>
                    <p style="word-break: break-word;"><strong>/paas/api/v1.1/instancemgmt/{identityDomainId}/services/jaas/instances/{serviceId}/accessrules</strong></p>
                </div>
            </header>
            <section>

                <div class="description">This endpoint is only available on Oracle Public Cloud.<p>Adds a new access rule to an Oracle Java Cloud Service instance.</div>

                <div role="tabpanel">

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs hidden-print" role="tablist">
                        <li role="presentation" class="active"><a href="#request" aria-controls="request" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-log-in" aria-hidden="true"></span> Request</a></li>
                        <li role="presentation"><a href="#response" aria-controls="response" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-log-out" aria-hidden="true"></span> Response</a></li>
                        
                        <li role="presentation"><a href="#examples" aria-controls="examples" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-edit" aria-hidden="true"></span> Examples</a></li>
                        
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade active in" id="request">
                            <h3 class="visible-print-block">Request</h3>
                            

                            
                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Supported Media Types</div>
                                <div class="panel-body">
                                    <ul class="list-group">
                                        
                                        <li class="list-group-item">application/json</li>
                                                    
                                    </ul>
                                </div>
                            </div>
                            
                            

                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Path Parameters</div>
                                <div style="padding-bottom: 0px; padding-top: 0px" class="panel-body">
                                    <div class="schema-container">
                                    <dl style="margin-bottom: 0px" class="schema-properties">
                                        
                                        <dt>identityDomainId</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Identity domain ID for the Oracle Java Cloud Service account.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                        <dt>serviceId</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Name of the Oracle Java Cloud Service instance.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                    </dl>
                                        
                                   </div>
                                </div>
                            </div>
                            

                            
                            
                            

                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Header Parameters</div>
                                <div style="padding-bottom: 0px; padding-top: 0px" class="panel-body">
                                    <div class="schema-container">
                                    <dl style="margin-bottom: 0px" class="schema-properties">
                                        
                                        <dt>X-ID-TENANT-NAME</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Identity domain ID for the Oracle Java Cloud Service account.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                    </dl>
                                        
                                   </div>
                                </div>
                            </div>
                            
                            

                            


                            
                            <div class="panel panel-default">

                                <div class="panel-heading">Body Parameter</div>
                                <div style="padding-bottom: 0px" class="panel-body">
                                    
                                    <div style="margin-bottom: 8px">The request body defines the details of the access rule to add.</div>
                                    

                                    <div class="schema-container">
                                    
                                    <div id="request-definitions-addsecrule-postrequest" class="panel panel-default swagger-schema">
<div class="panel-heading">Root Schema : addsecrule-postrequest</div>
<div class="panel-body">

    

















































<div class="panel-group" role="tablist" aria-multiselectable="true">








<div class="panel panel-default schema-panel">
  <div class="panel-heading" role="tab" id="collapseListGroupHeading-request-definitions-addsecrule-postrequest-properties">
    <a role="button" data-toggle="alt-collapse" href="#collapseListGroup-request-definitions-addsecrule-postrequest-properties" aria-expanded="false" aria-controls="collapseListGroup-request-definitions-addsecrule-postrequest-properties">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> Properties
    </a>
  </div>
  <div id="collapseListGroup-request-definitions-addsecrule-postrequest-properties" class="panel-collapse collapse" role="tabpanel" aria-labelledby="collapseListGroupHeading-request-definitions-addsecrule-postrequest-properties" aria-expanded="false">
    <dl class="list-group schema-properties">
        
        <dt>description</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Description of the rule.</div>



            
        </dd>
        
        <dt>destination</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Destination network. Specify the service component to allow traffic to. For example, <code>WLS_ADMIN_SERVER</code> for the virtual machine where the WebLogic Administration Server is running, or <code>OTD</code> for the virtual machine that contains the Oracle Traffic Director administration server.</div>



            
        </dd>
        
        <dt>ports</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Network port. Specify a single port or a port range. For example, <code>8989</code> or <code>7000-8000</code>.</div>



            
        </dd>
        
        <dt>protocol</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>Communication protocol. Valid values are: <code>tcp</code> or <code>udp</code>. Default is <code>tcp</code>.</div>



            
        </dd>
        
        <dt>ruleName</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Name of the rule.</div>



            
        </dd>
        
        <dt>source</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Network address of source. Specify the hosts from which traffic is allowed. Valid values include:<ul><li><code>PUBLIC-INTERNET</code> for any host on the Internet</li><li>A single IP address or a comma-separated list of subnets (in CIDR format) or IPv4 addresses</li><li>A service component name. Valid values include <code>WLS_ADMIN_SERVER</code>, <code>WLS_MANAGED_SERVER</code>, <code>OTD</code>, <code>DB</code></li></ul></div>



            
        </dd>
        
        <dt>status</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





<div>Required: <code>true</code></div>

























<div>Status of the rule. Specify whether the status should be enabled or disabled. Valid value: <code>disabled</code> or <code>enabled</code>.</div>



            
        </dd>
        
    </dl>
  </div>
</div>












</div>
</div>
</div>
                                    
                                    </div>

                                    
                                    
                                    
                                    		
                                </div>
                            </div>
                            



                            


                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="response">
                            <h3 class="visible-print-block">Response</h3>

                            
                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Supported Media Types</div>
                                <div class="panel-body">
                                    <ul class="list-group">
                                        
                                        <li class="list-group-item">application/json</li>
                                                    
                                    </ul>
                                </div>
                            </div>
                            
                            



                            
                            <div class="panel panel-default">

                                <div class="panel-heading">202 Response <span class="glyphicon glyphicon-ok-sign response-symbol" data-response-code="202" aria-hidden="true"></span></div>
                                <div class="panel-body">
                                    Accepted. See <a href='http://www.oracle.com/pls/topic/lookup?ctx=cloud&id=jcs_rest_statuscodes'>Status Codes</a> for information about other HTTP status codes.
                                </div>

                                
                                

                                

                            </div>
                            


                        </div>
                        
                        <div role="tabpanel" class="tab-pane fade" id="examples">
                            <h3>Examples</h3>
                            <div class="body conbody">
 <p class="p">The following example shows how to add a new access rule by submitting a POST request on the REST resource using cURL. </p> 
 <p class="p"><strong class="ph b">Note:</strong> The command in this example uses the URL structure <samp class="ph codeph">https://rest_server_url/<em class="ph i">resource-path</em></samp>, where <samp class="ph codeph">rest_server_url</samp> is the Oracle Public Cloud REST server to contact for your identity domain. See <a class="xref" href="SendRequests.html" target="_blank">Send Requests</a> for the appropriate URL structure to use for Oracle Public Cloud.</p> 
 <div class="section">
  <h3 class="title sectiontitle">cURL Command</h3>
  <pre class="pre">curl -i -X POST -u username:userPassword1! -d @createrule.json -H "Content-Type:application/json" -H "X-ID-TENANT-NAME:ExampleIdentityDomain" https://rest_server_url/paas/api/v1.1/instancemgmt/ExampleIdentityDomain/services/jaas/instances/ExampleInstance/accessrules</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Request Body</h3>
  <p class="p">The following example shows the contents of the request body in JSON format.</p> 
  <pre class="pre">{    
    "ruleName": "my_corp_vnc",
    "description": "corporate to VNC to Admin Server",
    "ports": "5900",
    "protocol": "tcp",
    "status": "enabled",
    "source": "192.123.45.6/32",
    "destination": "WLS_ADMIN_SERVER"
}</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Response Header</h3>
  <p class="p">The following shows an example of the response header when you add a rule. </p> 
  <pre class="pre">HTTP/1.1 202 Accepted
Date: Wed, 27 Apr 2016 00:53:16 GMT
Content-Length: 0
Content-Type: application/json</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Response Body (View Rules)</h3>
  <p class="p">There is no response body when you perform a POST to add a rule. Use the GET method to list all rules, including rules that are being created. The following shows an example of the response body using the GET method to list all access rules (as described in <a class="xref" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-accessrules-get.html" target="_blank">View All Access Rules</a>). The <samp class="ph codeph">activities</samp> section shows ongoing and failed activities. In this example, there is a rule creation in progress.</p> 
  <pre class="pre">{
    "accessRules":[
    {
        "ruleName":"ora_p2otd_ahttps",
        "description":"Permit public to https to OTD admin server",
        "status":"enabled",
        "source":"PUBLIC-INTERNET",
        "destination":"OTD",
        "ports":"8989",
        "protocol": "tcp",
        "ruleType":"DEFAULT"
    },
    {
        "ruleName":"ora_p2otd_chttps",
        "description":"Permit public to https to OTD server",
        "status":"enabled",
        "source":"PUBLIC-INTERNET",
        "destination":"OTD",
        "ports":"443",
        "protocol": "tcp",
        "ruleType":"DEFAULT"
    },
    {
        "ruleName":"ora_p2otd_ssh",
        "description":"Permit public to ssh to OTD server",
        "status":"enabled",
        "source":"PUBLIC-INTERNET",
        "destination":"OTD",
        "ports":"22",
        "protocol": "tcp",
        "ruleType":"DEFAULT"
    },
    {
        "ruleName":"sys_otd2ms_chttp",
        "description":"DO NOT MODIFY: Permit http connection to managed servers from OTD",
        "status":"enabled",
        "source":"OTD",
        "destination":"WLS_MANAGED_SERVER",
        "ports":"8001",
        "protocol": "tcp",
        "ruleType":"SYSTEM"
    },
    {
        "ruleName":"sys_otd2ms_chttps",
        "description":"DO NOT MODIFY: Permit https connection to managed servers from OTD",
        "status":"enabled",
        "source":"OTD",
        "destination":"WLS_MANAGED_SERVER",
        "ports":"8002",
        "protocol": "tcp",
        "ruleType":"SYSTEM"
    },
    {
        "ruleName":"sys_admin2otd_ssh",
        "description":"DO NOT MODIFY: Permit admin server to ssh to otd",
        "status":"enabled",
        "source":"WLS_ADMIN_SERVER",
        "destination":"OTD",
        "ports":"22",
        "protocol": "tcp",
        "ruleType":"SYSTEM"
    },
    {
        "ruleName":"sys_ms2db_dblistener",
        "description":"DO NOT MODIFY: Permit listener connection to database from managed servers",
        "status":"enabled",
        "source":"WLS_MANAGED_SERVER",
        "destination":"DB",
        "ports":"1521",
        "protocol": "tcp",
        "ruleType":"SYSTEM"
    },
    {
        "ruleName":"sys_ms2db_ssh",
        "description":"DO NOT MODIFY: Permit managed servers to ssh to db",
        "status":"enabled",
        "source":"WLS_MANAGED_SERVER",
        "destination":"DB",
        "ports":"22",
        "ruleType":"SYSTEM"
    },
    {
        "ruleName":"ora_p2admin_ssh",
        "description":"Permit public to ssh to admin server",
        "status":"enabled",
        "source":"PUBLIC-INTERNET",
        "destination":"WLS_ADMIN_SERVER",
        "ports":"22",
        "protocol": "tcp",
        "ruleType":"DEFAULT"
    },
    {
        "ruleName":"ora_p2admin_ahttps",
        "description":"Permit public to https to admin server",
        "status":"enabled",
        "source":"PUBLIC-INTERNET",
        "destination":"WLS_ADMIN_SERVER",
        "ports":"7002",
        "protocol": "tcp",
        "ruleType":"DEFAULT"
    }],
    <strong class="ph b">"activities":[
    {
        "activity":
            {
                "message":"Creation of [my_corp_vnc] access rule(s) is in progress."
            }
    }]</strong>
}</pre> 
 </div> 
</div>
                        </div>
                        
                    </div>

                </div>

            </section>

            
        </article>
    </body>
</html>
