<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- saved from url=(0023)https://docs.oracle.com -->
        <title>REST API for Oracle Java Cloud Service - Initiate an On-demand Backup</title>
        <link rel="stylesheet" href="/sp_common/rest-template/ohc-rest-template/css/rest.css">
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script data-main="/sp_common/rest-template/ohc-rest-template/js/rest-config" src="/sp_common/rest-template/requirejs/require.js"></script>
        <script>
            if(window.require === undefined) {
                document.write('<script data-main="sp_common/rest-template/ohc-rest-template/js/rest-config" src="sp_common/rest-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/rest-template/ohc-rest-template/css/rest.css" rel="stylesheet">');
            }
        </script>
        <meta name="description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta property="og:site_name" content="Oracle Help Center">
        <meta property="og:title" content="REST API for Oracle Java Cloud Service">
        <meta property="og:description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta name="generator" content="Oracle REST API Publisher">
        <link rel="shortcut icon" href="/sp_common/rest-template/ohc-common/img/favicon.ico">
        <meta name="application-name" content="REST API for Oracle Java Cloud Service">
        <link type="application/swagger+json" title="Swagger 2.0" href="swagger.json" rel="alternate">
        <link rel="prev" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-backups-%7BbackupId%7D-delete.html" title="Previous" type="text/html">
        <link rel="next" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-backups-%7BbackupId%7D-post.html" title="Next" type="text/html">
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
    <body>
        <div class="noscript alert alert-danger text-center" role="alert">
            <a class="pull-left" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-backups-%7BbackupId%7D-delete.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
            <a class="pull-right" href="op-paas-api-v1.1-instancemgmt-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-backups-%7BbackupId%7D-post.html">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
            <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        </div>
        <article>

            
            <header>

                <ol class="breadcrumb">
                    <li><a href="index.html">REST API for Oracle Java Cloud Service</a></li>
                    <li>Tasks</li>
                    
                    <li class="active">
                        
                        <a href="api-Backups%20and%20Restorations.html">Backups and Restorations</a>
                        
                    </li>
                    
                </ol>
                
                <p class="draftsubtitle"></p>
                
                <h2>Initiate an On-demand Backup</h2>
                <div>
                    <div class="label label-post text-uppercase">post</div>
                    <p style="word-break: break-word;"><strong>/paas/api/v1.1/instancemgmt/{identityDomainId}/services/jaas/instances/{serviceId}/backups</strong></p>
                </div>
            </header>
            <section>

                <div class="description">Initiates an on-demand backup for an Oracle Java Cloud Service instance.<p>On Oracle Public Cloud, see <a href='http://www.oracle.com/pls/topic/lookup?ctx=cloud&id=JSCUG3312' target='_blank'>About Backup and Restoration of Oracle Java Cloud Service Instances</a> in <i>Using Oracle Java Cloud Service</i> for complete information about scheduled automated backups, contents of backups, and where backups are stored. On Oracle Cloud Machine, see <a href='http://www.oracle.com/pls/topic/lookup?ctx=cloudopcm&id=JSCUG3312' target='_blank'>About Backup and Restoration of Oracle Java Cloud Service Instances</a> in <i>Using Oracle Java Cloud Service on OPCM</i>.<p><b>Note:</b> The legacy path <i>/paas/service/jcs/api/v1.1/instances/{identityDomainId}/{serviceId}/backups</i> is deprecated but it will continue to be supported for the near term. However, it is recommended that you migrate your applications to use the new path at your earliest convenience to minimize any disruption in the future when the deprecated URL structure is no longer supported.</div>

                <div role="tabpanel">

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs hidden-print" role="tablist">
                        <li role="presentation" class="active"><a href="#request" aria-controls="request" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-log-in" aria-hidden="true"></span> Request</a></li>
                        <li role="presentation"><a href="#response" aria-controls="response" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-log-out" aria-hidden="true"></span> Response</a></li>
                        
                        <li role="presentation"><a href="#examples" aria-controls="examples" role="tab" data-toggle="tab"><span class="hidden-xs glyphicon glyphicon-edit" aria-hidden="true"></span> Examples</a></li>
                        
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade active in" id="request">
                            <h3 class="visible-print-block">Request</h3>
                            

                            
                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Supported Media Types</div>
                                <div class="panel-body">
                                    <ul class="list-group">
                                        
                                        <li class="list-group-item">application/json</li>
                                                    
                                    </ul>
                                </div>
                            </div>
                            
                            

                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Path Parameters</div>
                                <div style="padding-bottom: 0px; padding-top: 0px" class="panel-body">
                                    <div class="schema-container">
                                    <dl style="margin-bottom: 0px" class="schema-properties">
                                        
                                        <dt>identityDomainId</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Identity domain ID for the Oracle Java Cloud Service account (on Oracle Public Cloud).<p>Tenant name for the Oracle Java Cloud Service instance (on Oracle Cloud Machine).</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                        <dt>serviceId</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Name of the Oracle Java Cloud Service instance.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                    </dl>
                                        
                                   </div>
                                </div>
                            </div>
                            

                            
                            
                            

                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Header Parameters</div>
                                <div style="padding-bottom: 0px; padding-top: 0px" class="panel-body">
                                    <div class="schema-container">
                                    <dl style="margin-bottom: 0px" class="schema-properties">
                                        
                                        <dt>X-ID-TENANT-NAME</dt>
                                        <dd>
                                            


<div>Type: <code>string</code></div>







<div>Required: <code>true</code></div>







































<div>Identity domain ID for the Oracle Java Cloud Service account (on Oracle Public Cloud).<p>Tenant name for the Oracle Java Cloud Service instance (on Oracle Cloud Machine).</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">


















                                        </dd>
                                        
                                    </dl>
                                        
                                   </div>
                                </div>
                            </div>
                            
                            

                            


                            
                            <div class="panel panel-default">

                                <div class="panel-heading">Body Parameter</div>
                                <div style="padding-bottom: 0px" class="panel-body">
                                    
                                    <div style="margin-bottom: 8px">The request body contains details of the on-demand backup request. </div>
                                    

                                    <div class="schema-container">
                                    
                                    <div id="request-definitions-ondemand-request" class="panel panel-default swagger-schema">
<div class="panel-heading">Root Schema : ondemand-request</div>
<div class="panel-body">

    
















































<div>The request body contains information about the on-demand backup operation. There are no required attributes.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">








<div class="panel panel-default schema-panel">
  <div class="panel-heading" role="tab" id="collapseListGroupHeading-request-definitions-ondemand-request-properties">
    <a role="button" data-toggle="alt-collapse" href="#collapseListGroup-request-definitions-ondemand-request-properties" aria-expanded="false" aria-controls="collapseListGroup-request-definitions-ondemand-request-properties">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> Properties
    </a>
  </div>
  <div id="collapseListGroup-request-definitions-ondemand-request-properties" class="panel-collapse collapse" role="tabpanel" aria-labelledby="collapseListGroupHeading-request-definitions-ondemand-request-properties" aria-expanded="false">
    <dl class="list-group schema-properties">
        
        <dt>databaseIncluded</dt>
        <dd>
            
            
<div>Type: <code>boolean</code></div>





























<div>Flag that specifies whether a database backup is included as part of this on-demand backup operation. This attribute is only applicable to Oracle Public Cloud. Only <code>false</code> is supported on Oracle Cloud Machine.<p>On Oracle Public Cloud, the value defaults to <code>false</code>, indicating that a database backup is not performed. If the value is set to <code>true</code>, a database backup is performed. However, the database files for the associated Database Cloud Service database deployment are not actually included in the backup; only an RMAN tag or a timestamp is included, depending on whether the Database Cloud Service database deployment is hosting a single-instance database or an Oracle Real Application Clusters (RAC) database.<p><b>Note:</b> If the associated Database Cloud Service database deployment is hosting a RAC database and a database backup is included, the on-demand backup expiration date cannot be <code>null</code>.</div>



            
        </dd>
        
        <dt>expirationDate</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>Deprecated. To set a <code>null</code> expiration date for full backups, use <code>keepForever</code> set to <code>true</code>.</div>



            
        </dd>
        
        <dt>full</dt>
        <dd>
            
            
<div>Type: <code>boolean</code></div>





























<div>Flag that specifies the type of on-demand backup. Only <code>true</code> is a valid option, <code>false</code> is not supported. Full backups contain all of the service instance configuration data.<p>On Oracle Public Cloud, from the December 2015 update and onwards, only <code>true</code> is supported; in previous releases you were allowed to specify whether to start a full or incremental on-demand backup.</div>



            
        </dd>
        
        <dt>keepForever</dt>
        <dd>
            
            
<div>Type: <code>boolean</code></div>





























<div>Flag that specifies whether to keep the backup indefinitely. Set this value to <code>true</code> to keep the backup indefinitely or until it is deleted manually. (This is the same behavior as <code>expirationDate</code> set to <code>null</code>.) Set this value to <code>false</code> to delete the backup at the end of the default retention period for the service instance's backups. (Backups are retained for the default retention period as defined in the service instance's backup configuration; see <a href='op-paas-api-v1.1-instancemgmt-{identityDomainId}-services-jaas-instances-{serviceId}-backupconfig-get.html'>View the Backup Configuration</a>.)<p><b>Note:</b> On Oracle Public Cloud, if the associated Oracle Database Cloud Service database deployment is hosting an Oracle Real Application Clusters (RAC) database, a database backup cannot be performed as part of the on-demand backup operation when the <code>keepForever</code> value is set to <code>true</code>.</div>



            
        </dd>
        
        <dt>notes</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>Free-form text to provide additional information about the backup.</div>



            
        </dd>
        
    </dl>
  </div>
</div>












</div>
</div>
</div>
                                    
                                    </div>

                                    
                                    
                                    
                                    		
                                </div>
                            </div>
                            



                            


                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="response">
                            <h3 class="visible-print-block">Response</h3>

                            
                            
                            <div class="panel panel-default">
                                <div class="panel-heading">Supported Media Types</div>
                                <div class="panel-body">
                                    <ul class="list-group">
                                        
                                        <li class="list-group-item">application/json</li>
                                                    
                                    </ul>
                                </div>
                            </div>
                            
                            



                            
                            <div class="panel panel-default">

                                <div class="panel-heading">202 Response <span class="glyphicon glyphicon-ok-sign response-symbol" data-response-code="202" aria-hidden="true"></span></div>
                                <div class="panel-body">
                                    Accepted. See <a href='http://www.oracle.com/pls/topic/lookup?ctx=cloud&id=jcs_rest_statuscodes'>Status Codes</a> for information about other possible HTTP status codes.
                                </div>

                                
                                

                                
                                <div class="panel panel-default">

                                    <div class="panel-heading">Body</div>
                                    <div class="panel-body">
                                        
                                        <div>The response body contains information about the on-demand backup operation.</div>
                                        

                                        <div class="schema-container">
                                        
                                        <div id="202-definitions-ondemand-response" class="panel panel-default swagger-schema">
<div class="panel-heading">Root Schema : ondemand-response</div>
<div class="panel-body">

    
















































<div>The response body contains information about the on-demand backup operation.</div>


<div class="panel-group" role="tablist" aria-multiselectable="true">








<div class="panel panel-default schema-panel">
  <div class="panel-heading" role="tab" id="collapseListGroupHeading-202-definitions-ondemand-response-properties">
    <a role="button" data-toggle="alt-collapse" href="#collapseListGroup-202-definitions-ondemand-response-properties" aria-expanded="false" aria-controls="collapseListGroup-202-definitions-ondemand-response-properties">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> Properties
    </a>
  </div>
  <div id="collapseListGroup-202-definitions-ondemand-response-properties" class="panel-collapse collapse" role="tabpanel" aria-labelledby="collapseListGroupHeading-202-definitions-ondemand-response-properties" aria-expanded="false">
    <dl class="list-group schema-properties">
        
        <dt>job_id</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>Job ID for the backup operation.</div>



            
        </dd>
        
        <dt>operationName</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>Operation performed. Set to: <code>start-backup</code>.</div>



            
        </dd>
        
        <dt>target_uri</dt>
        <dd>
            
            
<div>Type: <code>string</code></div>





























<div>URI of the backup resource.</div>



            
        </dd>
        
    </dl>
  </div>
</div>












</div>
</div>
</div>
                                        
                                        </div>

                                        
                                    </div>
                                </div>
                                

                            </div>
                            


                        </div>
                        
                        <div role="tabpanel" class="tab-pane fade" id="examples">
                            <h3>Examples</h3>
                            <div class="body conbody">
 <p class="p">The following example shows how to initiate an on-demand backup for an Oracle Java Cloud Service instance by submitting a POST request on the REST resource using cURL.</p> 
 <p class="p"><strong class="ph b">Note: </strong>The command in this example uses the URL structure <samp class="ph codeph">https://rest_server_url/<em class="ph i">resource-path</em></samp>, where <samp class="ph codeph">rest_server_url</samp> is the Oracle Public Cloud or Oracle Cloud Machine REST server to contact for your identity domain or tenant name. See <a class="xref" href="SendRequests.html" target="_blank">Send Requests</a> for the appropriate URL structure to use for Oracle Public Cloud or Oracle Cloud Machine.</p> 
 <div class="section">
  <h3 class="title sectiontitle">cURL Command</h3>
  <pre class="pre">curl -i -X POST -u username:userPassword1! -d @backup.json -H "Content-Type:application/json" -H "X-ID-TENANT-NAME:ExampleIdentityDomain" https://rest_server_url/paas/api/v1.1/instancemgmt/ExampleIdentityDomain/services/jaas/instances/ExampleInstance/backups
</pre> 
  <p class="p"><strong class="ph b">Note:</strong> In the request, set <samp class="ph codeph">keepForever</samp> to <samp class="ph codeph">true</samp> to keep the backup indefinitely or until it is deleted manually. (This is the same behavior as <samp class="ph codeph">expirationDate</samp> set to<samp class="ph codeph"> null</samp>, which is deprecated.) </p> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Request Body (Oracle Public Cloud)</h3>
  <p class="p">The following shows an example of the request body in JSON format. </p> 
  <pre class="pre">{
   "databaseIncluded":true,
   "keepForever":true,
   "full":true,
   "notes":"On-demand full backup request."
}
</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Request Body (Oracle Cloud Machine)</h3>
  <p class="p">The following shows an example of the request body in JSON format. </p> 
  <pre class="pre">{
   "keepForever":true,
   "full":true,
   "notes":"On-demand full backup request."
}
</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Response Header</h3>
  <p class="p">The following shows an example of the response header:</p> 
  <pre class="pre">HTTP/1.1 202 Accepted
Date: Sat, 05 Dec 2015 19:56:47 GMT
Transfer-Encoding: chunked
Content-Type: application/json</pre> 
 </div> 
 <div class="section">
  <h3 class="title sectiontitle">Example of Response Body</h3>
  <p class="p">The following shows an example of the response body in JSON format. Note the backup URI that you can use to view, delete, archive or download the backup.</p> 
  <pre class="pre">{
    "operationName":"start-backup",
    "target_uri":"https:\/\/rest_server_url\/paas\/service\/jcs\/api\/v1.1\/instances\/ExampleIdentityDomain\/ExampleInstance\/backups\/1449345407188",
    "job_id":"8218"
}</pre> 
 </div> 
</div>
                        </div>
                        
                    </div>

                </div>

            </section>

            
        </article>
    </body>
</html>
