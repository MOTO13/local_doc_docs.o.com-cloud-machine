<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- saved from url=(0023)https://docs.oracle.com -->
        <title>REST API for Oracle Java Cloud Service</title>
        <link rel="stylesheet" href="/sp_common/rest-template/ohc-rest-template/css/rest.css">
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script data-main="/sp_common/rest-template/ohc-rest-template/js/rest-config" src="/sp_common/rest-template/requirejs/require.js"></script>
        <script>
            if(window.require === undefined) {
                document.write('<script data-main="sp_common/rest-template/ohc-rest-template/js/rest-config" src="sp_common/rest-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/rest-template/ohc-rest-template/css/rest.css" rel="stylesheet">');
            }
        </script>
        <meta name="description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta property="og:site_name" content="Oracle Help Center">
        <meta property="og:title" content="REST API for Oracle Java Cloud Service">
        <meta property="og:description" content="Describes how to use the Oracle Java Cloud Service REST API to create and manage WebLogic Server instances on both Oracle Public Cloud and Oracle Cloud Machine, unless otherwise indicated.">
        <meta name="generator" content="Oracle REST API Publisher">
        <link rel="shortcut icon" href="/sp_common/rest-template/ohc-common/img/favicon.ico">
        <meta name="application-name" content="REST API for Oracle Java Cloud Service">
        <link type="application/swagger+json" title="Swagger 2.0" href="swagger.json" rel="alternate">
        <link rel="prev" href="Stopping%20and%20Starting%20a%20Service%20Instance%20and%20Individual%20VMs.html" title="Previous" type="text/html">
        <link rel="next" href="Scaling%20an%20Oracle%20Java%20Cloud%20Service%20Instance%20Using%20the%20REST%20API.html" title="Next" type="text/html">
    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
    <body>
        <div class="noscript alert alert-danger text-center" role="alert">
            <a class="pull-left" href="Stopping%20and%20Starting%20a%20Service%20Instance%20and%20Individual%20VMs.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
            <a class="pull-right" href="Scaling%20an%20Oracle%20Java%20Cloud%20Service%20Instance%20Using%20the%20REST%20API.html">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
            <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        </div>
        <article>
            <header>
                <ol class="breadcrumb">
                    <li><a href="index.html">REST API for Oracle Java Cloud Service</a></li>
                    <li class="active">Get Started</li>
                </ol>
		<p class="draftsubtitle"></p>
            </header>
            <div class="dita-content"><h2 class="title topictitle1">Monitoring a Service Instance</h2> 
<div class="body taskbody">
 <p class="shortdesc">You can monitor the health of an Oracle Java Cloud Service instance using the REST API, as described in the following procedure.</p> 
 <div class="section">
  <p class="p"><strong class="ph b">Note:</strong> The cURL command examples use the URL structure <samp class="ph codeph">https://rest_server_url/<em class="ph i">resource-path</em></samp>, where <samp class="ph codeph">rest_server_url</samp> is the Oracle Public Cloud or Oracle Cloud Machine REST server to contact for your identity domain or tenant name. See <a class="xref" href="SendRequests.html" target="_blank">Send Requests</a> for the appropriate URL structure to use on Oracle Public Cloud or Oracle Cloud Machine.</p> 
  <p class="p">To monitor an Oracle Java Cloud Service instance:</p> 
 </div> 
 <ol class="ol steps">
  <li class="li step stepexpand"><span class="ph cmd">Before monitoring an Oracle Java Cloud Service instance, review the service instances that currently exist to identify the service instance you want to monitor.</span>
   <div class="itemgroup info">
    <pre class="pre"><strong class="ph b">curl -i -X GET -u username:userPassword1! -H "X-ID-TENANT-NAME:ExampleIdentityDomain" https://rest_server_url/paas/service/jcs/api/v1.1/instances/ExampleIdentityDomain</strong>
</pre> 
    <p class="p">Specify the following options on the cURL command line:</p> 
    <ul class="ul">
     <li class="li"><p class="p"><samp class="ph codeph">-i</samp> option to include the HTTP header in the output. This option is optional.</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-X</samp> option to indicate the type of request (<samp class="ph codeph">GET</samp>).</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-u</samp> option to specify the user name and password for the Oracle Java Cloud Service account for authentication.</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-H</samp> to define a custom header, <samp class="ph codeph">X-ID-TENANT-NAME</samp>, to identify the identity domain ID or tenant name.</p> </li> 
    </ul> 
    <p class="p">For more information, see <a class="xref" href="op-paas-service-jcs-api-v1.1-instances-%7BidentityDomainId%7D-get.html" target="_blank">View All Service Instances</a>.</p> 
    <p class="p">The following shows an example of the response body. There are two service instances in this example.</p> 
    <pre class="pre codeblock">{
    "uri":"https:\/\/rest_server_url\/paas\/service\/jcs\/api\/v1.1\/instances\/ExampleIdentityDomain",
    "service_type":"jaas",
    "implementation_version":"1.0",
    "services":[
    {
        "service_name":"ExampleInstance",
        "version":"12cR3",
        "wlsVersion":"12.1.3.0.xxxxxx",
        "status":"Running",
        "error_status_desc":"",
        "compliance_status":"",
        "compliance_status_desc":"",
        "auto_update":"true",
        "description":"Example Instance created using REST API",
        "identity_domain":"ExampleIdentityDomain",
        "creation_time":"Mon Jun 6 19:37:41 UTC 2016",
        "last_modified_time":"Sat Jul 2 7:10:35 UTC 2016",
        "created_by":"username",
        "service_uri":"https:\/\/rest_server_url\/paas\/service\/jcs\/api\/v1.1\/instances\/ExampleIdentityDomain\/ExampleInstance"
    },
    {
        "service_name":"My1221Instance",
        "version":"12cRelease2",
        "wlsVersion":"12.2.1.0.xxxxxx",
        "status":"Running",
        "error_status_desc":"",
        "compliance_status":"",
        "compliance_status_desc":"",
        "auto_update":"true",
        "description":"desc",
        "identity_domain":"ExampleIdentityDomain",
        "creation_time":"Tue Jun 7 21:22:20 UTC 2016",
        "last_modified_time":"Sat Jul 2 9:10:25 UTC 2016",
        "created_by":"username",
        "service_uri":"https:\/\/rest_server_url\/paas\/service\/jcs\/api\/v1.1\/instances\/ExampleIdentityDomain\/My1221Instance"
    }
    ]
}</pre> 
   </div></li> 
  <li class="li step stepexpand"><span class="ph cmd">Monitor the <samp class="ph codeph">ExampleInstance</samp> service instance by entering the following command:</span>
   <div class="itemgroup info">
    <pre class="pre"><strong class="ph b">curl -i -X GET -u username:userPassword1! -H "X-ID-TENANT-NAME:ExampleIdentityDomain" https://rest_server_url/paas/core/api/v1.1/healthcheck/ExampleIdentityDomain/services/jaas/instances/ExampleInstance</strong></pre> 
    <p class="p">Specify the following options on the cURL command line:</p> 
    <ul class="ul">
     <li class="li"><p class="p"><samp class="ph codeph">-i</samp> option to include the HTTP header in the output. This option is optional.</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-X</samp> option to indicate the type of request (<samp class="ph codeph">GET</samp>).</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-u</samp> option to specify the user name and password for the Oracle Java Cloud Service account for authentication.</p> </li> 
     <li class="li"><p class="p"><samp class="ph codeph">-H</samp> to define a custom header, <samp class="ph codeph">X-ID-TENANT-NAME</samp>, to identify the identity domain ID or tenant name.</p> </li> 
    </ul> 
    <p class="p">For more information, see <a class="xref" href="op-paas-core-api-v1.1-healthcheck-%7BidentityDomainId%7D-services-jaas-instances-%7BserviceId%7D-get.html" target="_blank">Monitor a Service Instance</a>.</p> 
    <p class="p">The following shows an example of the response body on Oracle Public Cloud.</p> 
    <pre class="pre codeblock">{
    "summary":
    {
        "status":"UP",
        "status_time":"2016-11-17T20:23:20.029+00:00"
    },
    "identity_domain":"ExampleIdentityDomain",
    "service_components":[
    {
        "summary":
        {
            "status":"UP",
            "status_time":"2016-11-17T20:23:11.000+00:00"
        },
        "component":"OTD",
        "vms":[
        {
            "summary":
            {
                "status":"UP",
                "status_time":"2016-11-17T20:23:18.511+00:00"
            },
            "vm":"exampleinstance-lb-1",
            "servers":[]
        }],
        "health_data":[
        {
            "unit":"count",
            "name":"requestCount",
            "value":"2",
            "displayName":"Execution t"
        },
        {
            "unit":"count",
            "name":"errorRequestCount",
            "value":"0",
            "displayName":"Execution t"
        },
        {
            "unit":"ms",
            "name":"epsLast5MinAvg",
            "value":"0",
            "displayName":"Execution time"
        },
        {
            "unit":"ms",
            "name":"upsince",
            "value":"2016-11-17T19:53:16.000+00:00",
            "displayName":"Server time from when it was up."
        },
        {
            "unit":"ms",
            "name":"rtLast5MinAvg",
            "value":"0",
            "displayName":"Execution t"
        }]
    },
    {
        "summary":
        {
            "status":"UP",
            "status_time":"2016-11-17T20:23:10.000+00:00",
            "status_message":"Number of servers processing request:1"
        },
        "component":"WLS",
        "vms":[
        {
            "summary":
            {
                "status":"UP",
                "status_time":"2016-11-17T20:23:18.511+00:00"
            },
            "vm":"exampleinstance-wls-1",
            "servers":[
            {
                "summary":
                {
                    "status":"UP",
                    "status_time":"2016-11-17T20:23:10.000+00:00"
                },
                "server_name":"ExampleI_server_1",
                "server_role":"MANAGED",
                "health_data":[
                {
                    "unit":"MB",
                    "name":"heapmax",
                    "value":"1820.5",
                    "displayName":"Max memory"
                },
                {
                    "unit":"ms",
                    "name":"upsince",
                    "value":"2016-11-17T19:56:14.000+00:00",
                    "displayName":"Server time from when it was up."
                },
                {
                    "unit":"MB",
                    "name":"heapfree",
                    "value":"1328.96",
                    "displayName":"Free memory"
                }]
            },
            {
                "summary":
                {
                    "status":"UP",
                    "status_time":"2016-11-17T20:23:10.000+00:00",
                    "status_message":"Not processing requests"
                },
                "server_name":"ExampleI_adminserver",
                "server_role":"ADMIN",
                "health_data":[
                {
                    "unit":"MB",
                    "name":"heapmax",
                    "value":"1820.5",
                    "displayName":"Max memory"
                },
                {
                    "unit":"ms",
                    "name":"upsince",
                    "value":"2016-11-17T17:50:22.000+00:00",
                    "displayName":"Server time from when it was up."
                    },                                                
                {
                    "unit":"MB",
                    "name":"heapfree",
                    "value":"1146.91",
                    "displayName":"Free memory"
                }]
            }]
        }]
    }],
    "service_name":"ExampleInstance"
}</pre> 
    <p class="p">The following shows an example of the response body on Oracle Cloud Machine.</p> 
    <pre class="pre codeblock">{
    "summary":
    {
        "status":"UP",
        "status_time":"2016-07-28T20:16:41.829+00:00"
    },
    "identity_domain":"ExampleIdentityDomain",
    "service_components":[
    {
        "summary":
        {
            "status":"UP",
            "status_time":"2016-07-28T20:16:29.000+00:00"
        },
        "component":"OTD",
        "vms":[
        {
            "summary":
            {
                "status":"UP",
                "status_time":"2016-07-28T20:16:35.302+00:00"
            },
            "vm":"exampleinstance-lb-1",
            "servers":[]
        }],
        "health_data":[
        {
            "unit":"count",
            "name":"requestCount",
            "value":"14",
            "displayName":"Execution time"
        },
        {
            "unit":"count",
            "name":"errorRequestCount",
            "value":"0",
            "displayName":"Execution time"
        },
        {
            "unit":"ms",
            "name":"epsLast5MinAvg",
            "value":"0",
            "displayName":"Execution time"
        },
        {
            "unit":"ms",
            "name":"upsince",
            "value":"2016-07-28T19:05:00.000+00:00",
            "displayName":"Server time from when it was up."
        },
        {
            "unit":"ms",
            "name":"rtLast5MinAvg",
            "value":"0",
            "displayName":"Execution time"
        }]
    },
    {
        "summary":
        {
            "status":"UP",
            "status_time":"2016-07-28T20:16:28.000+00:00",
            "status_message":"Number of servers processing request:2"
        },
        "component":"WLS",
        "vms":[
        {
            "summary":
            {
                "status":"UP",
                "status_time":"2016-07-28T20:16:35.302+00:00"
            },
            "vm":"exampleinstance-wls-2",
            "servers":[
            {
                "summary":
                {
                    "status":"UP",
                    "status_time":"2016-07-28T20:16:28.000+00:00"
                },
                "server_name":"ExampleI_server_2",
                "server_role":"MANAGED",
                "health_data":[
                {
                    "unit":"ms",
                    "name":"upsince",
                    "value":"2016-07-28T19:32:28.000+00:00",
                    "displayName":"Server time from when it was up."
                },
                {
                    "unit":"MB",
                    "name":"heapfree",
                    "value":"1201.53",
                    "displayName":"Free memory"
                },
                {
                    "unit":"MB",
                    "name":"heapmax",
                    "value":"1820.5",
                    "displayName":"Max memory"
                }]
            }]
        },
        {
            "summary":
            {
                "status":"UP",
                "status_time":"2016-07-28T20:16:35.302+00:00"
            },
            "vm":"exampleinstance-wls-1",
            "servers":[
            {
                "summary":
                {
                    "status":"UP",
                    "status_time":"2016-07-28T20:16:28.000+00:00"
                },
                "server_name":"ExampleI_server_1",
                "server_role":"MANAGED",
                "health_data":[
                {
                    "unit":"ms",
                    "name":"upsince",
                    "value":"2016-07-28T19:31:33.000+00:00",
                    "displayName":"Server time from when it was up."
                },
                {
                    "unit":"MB",
                    "name":"heapfree",
                    "value":"1256.14",
                    "displayName":"Free memory"
                },
                {
                    "unit":"MB",
                    "name":"heapmax",
                    "value":"1820.5",
                    "displayName":"Max memory"
                }]
            }]
        }]
    }],
    "service_name":"ExampleInstance"
}</pre> 
   </div></li> 
  <li class="li step stepexpand"><span class="ph cmd">Review the health monitoring data and take action, as required. For example:</span>
   <div class="itemgroup info">
    <div class="p">
     <ul class="ul">
      <li class="li">For each server, review the free heap size (<samp class="ph codeph">heapFree</samp>) and consider scaling the node if the value falls below the acceptable threshold.</li> 
      <li class="li"><p class="p">For the Oracle Traffic Director (OTD) component, review the average request time (<samp class="ph codeph">rtLast5MinAvg</samp>) and consider scaling the cluster if the value is above the acceptable threshold.</p> </li> 
     </ul> 
    </div> 
    <p class="p">For more information about scaling the service instance, see <a class="xref" href="Scaling%20an%20Oracle%20Java%20Cloud%20Service%20Instance%20Using%20the%20REST%20API.html" target="_blank">Scaling a Service Instance</a>.</p> 
   </div></li> 
 </ol> 
</div></div>
        </article>
    </body>
</html>