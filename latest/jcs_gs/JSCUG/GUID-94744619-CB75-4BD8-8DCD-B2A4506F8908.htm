<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Returning an Oracle Java Cloud Service Instance to Service After Restoration from a Backup on OPCM</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="After restoring an Oracle Java Cloud Service instance from a backup, you must perform additional steps to return the service instance to service. You may also need to modify the service instance to return it to the state you require." />
<meta name="dcterms.created" content="2017-04-07T16:50:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Public Cloud Machine Using Oracle Java Cloud Service" />
<meta name="dcterms.identifier" content="E66979-05" />
<meta name="dcterms.isVersionOf" content="JSCUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2016, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-88CEA944-DFAB-45A1-9224-CB34C7112280.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-B3C5430A-2D20-492B-96BF-0A2E6ECF1E04.htm" title="Next" type="text/html" />
<link rel="alternate" href="JSCUG.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="JSCUG.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="JSCUG.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-94744619-CB75-4BD8-8DCD-B2A4506F8908"></a> <span id="PAGE" style="display:none;">71/131</span> <!-- End Header -->
<a id="JSCUG3420"></a>
<h1 id="JSCUG-GUID-94744619-CB75-4BD8-8DCD-B2A4506F8908" class="sect1">Returning an Oracle Java Cloud Service Instance to Service After Restoration from a Backup <span>on <span>OPCM</span></span></h1>
<div>
<p>After restoring an Oracle Java Cloud Service instance from a backup, you must perform additional steps to return the service instance to service. You may also need to modify the service instance to return it to the state you require.</p>
<div class="section">
<p>If a service instance has been scaled since a backup was created, the topology of the service instance and the topology of the backup no longer match. If you restore the service instance's configuration files from the backup, how Oracle Java Cloud Service handles the mismatch depends on the cause of the mismatch. For details, see <a href="GUID-A04B0E6C-D9C3-4A8D-80D7-138F085FC300.htm#GUID-74F51136-3203-4A95-929C-AE08C910926C" title="When restoration of a service instance is initiated, Oracle Java Cloud Service shuts down the service instance's servers. After the restoration is complete, Oracle Java Cloud Service restarts the service instance's servers.">What Happens when a Service Instance Is Restored</a>.</p>
<p>You must also remove a restored service instance's transaction logs.</p>
</div>
<!-- class="section" -->
<div class="section">To return an Oracle Java Cloud Service instance to service:</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the Backup Page, click the text <span class="bold">Status Completed</span> for the last successful restoration in the Restoration History of the service instance.</span>
<div>A set of progress messages for the restoration is displayed.</div>
</li>
<li class="stepexpand"><span>Examine the progress messages to determine whether the backup contained any hosts that are not in the service instance.</span></li>
<li class="stepexpand"><span>If the backup contained any hosts that are not in the service instance, modify the service instance as follows:</span>
<ol>
<li class="substepexpand"><span>Use Oracle WebLogic Server to remove the managed servers on these hosts from the administration server configuration.</span></li>
<li class="substepexpand"><span>If you require your service instance to contain the number of nodes in the backup, scale out the service instance.</span>
<div>For more information, see <a href="GUID-6BAA26CA-B304-4C0E-AC00-3E47512EED88.htm#GUID-6BAA26CA-B304-4C0E-AC00-3E47512EED88" title="You can scale out an Oracle Java Cloud Service cluster to add one node to the cluster. When you scale out, Oracle Java Cloud Service creates a new VM running a WebLogic Server Managed Server instance.">Scaling Out an Oracle Java Cloud Service Instance</a>.
<p><span>When Oracle Coherence is enabled for a service instance:</span> See also <a href="GUID-506493C3-FEC4-48FE-87BB-7764DCA4612A.htm#GUID-506493C3-FEC4-48FE-87BB-7764DCA4612A" title="The Coherence data tier of an Oracle Java Cloud Service&mdash;Coherence instance is scaled independently of the application tier. You can use the Oracle Java Cloud Service Console or the REST API to scale the Coherence data tier.">Scaling the Coherence Data Tier of an Oracle Java Cloud Service Instance</a>.</p>
</div>
</li>
</ol>
</li>
<li class="stepexpand"><span>If you scaled in the service instance to delete any nodes and you require your service instance to contain the number of nodes it contained before you restored it, scale out the service instance.</span>
<div>For more information, see <a href="GUID-6BAA26CA-B304-4C0E-AC00-3E47512EED88.htm#GUID-6BAA26CA-B304-4C0E-AC00-3E47512EED88" title="You can scale out an Oracle Java Cloud Service cluster to add one node to the cluster. When you scale out, Oracle Java Cloud Service creates a new VM running a WebLogic Server Managed Server instance.">Scaling Out an Oracle Java Cloud Service Instance</a>.
<p><span>When Oracle Coherence is enabled for a service instance:</span> See also <a href="GUID-506493C3-FEC4-48FE-87BB-7764DCA4612A.htm#GUID-506493C3-FEC4-48FE-87BB-7764DCA4612A" title="The Coherence data tier of an Oracle Java Cloud Service&mdash;Coherence instance is scaled independently of the application tier. You can use the Oracle Java Cloud Service Console or the REST API to scale the Coherence data tier.">Scaling the Coherence Data Tier of an Oracle Java Cloud Service Instance</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Remove the service instance's transaction records.</span>
<div>Oracle Java Cloud Service does not provide any tools for removing a service instance's transaction records. Instead, use Oracle WebLogic Server for this purpose.
<p>For more information, see:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-B5656350-E387-4E43-91A6-8C20D78288A7.htm" title="You can access the services and resources that an Oracle Java Cloud Service instance's VM provides by logging into the VM as the opc user through SSH. You can use any SSH utility you want. For example, if you are using Windows, you might use PuTTY; if you are using Linux, you might use OpenSSH.">Accessing VM Through Secure Shell (SSH)</a></p>
</li>
<li>
<p>Relevant documentation for the release of Oracle WebLogic Server that your service instance is running:</p>
<ul style="list-style-type: disc;">
<li>
<p>For release 12<span class="italic">c</span> (12.2.1), see <a href="http://www.oracle.com/pls/topic/lookup?ctx=cloudfmw122100&amp;id=WLJTA342" target="_blank"><span>How to Remove Transaction Records</span></a> in <cite>Developing JTA Applications for Oracle WebLogic Server 12c (12.2.1)</cite>.</p>
</li>
<li>
<p>For release 12<span class="italic">c</span> (12.1.3), see <a href="http://www.oracle.com/pls/topic/lookup?ctx=cloudfmw121300&amp;id=WLJTA342" target="_blank"><span>How to Remove Transaction Records</span></a> in <cite>Developing JTA Applications for Oracle WebLogic Server 12c (12.1.3)</cite>.</p>
</li>
<li>
<p>For release 11<span class="italic">g</span> (11.1.1.7), see <a href="http://www.oracle.com/pls/topic/lookup?ctx=cloudas111170&amp;id=WLJTA342" target="_blank"><span>How to Remove Transaction Records</span></a> in <cite>Developing JTA Applications for Oracle WebLogic Server 11g (11.1.1.7)</cite></p>
</li>
</ul>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment15">
<tr>
<td class="cellalignment22">
<table class="cellalignment20">
<tr>
<td class="cellalignment19"><a href="GUID-88CEA944-DFAB-45A1-9224-CB34C7112280.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment19"><a href="GUID-B3C5430A-2D20-492B-96BF-0A2E6ECF1E04.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2016, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment24">
<table class="cellalignment18">
<tr>
<td class="cellalignment19"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment19"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment19"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
